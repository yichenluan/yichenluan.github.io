---
title: 构造数据抽象
layout: post
tags:
  - Program
---



抽象是克服复杂性的一种技术。

#### 1. 练习 2.1

``` lisp
(define (make-rat n d)
    (if (< d 0)
        (cons (- n) (- d))
        (cons n d)))
```

#### 2. 练习 2.2

``` lisp
(define (make-point x y) (cons x y))

(define (x-point i) (car i))
(define (y-point i) (cdr i))

(define (make-segment i j)
  (cons i j))

(define (start-segment k)
  (car k))
(define (end-segment k)
  (cdr k))

(define (midpoint-segment s)
  (define (average x y) (/ (+ x y) 2))
  (let ((midpoint-x (average (x-point (start-segment s))
                             (x-point (end-segment s))))
        (midpoint-y (average (y-point (start-segment s))
                             (y-point (end-segment s)))))
    (make-point midpoint-x midpoint-y)))
```

#### 3. 练习2.5

``` lisp
(define (cons x y)
    (* (expt 2 x)
       (expt 3 y)))

(define (car z)
    (if (= 0 (remainder z 2))
        (+ 1 (car (/ z 2)))
        0))

(define (cdr z)
    (if (= 0 (remainder z 3))
        (+ 1 (cdr (/ z 3)))
        0))
```

